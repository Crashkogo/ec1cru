# Скрипты генерации тестовых данных

## seedTestPosts.ts

Скрипт для автоматизированного создания тестовых постов (новостей, мероприятий и акций) для проверки работы главной страницы и списков постов.

### Что создает скрипт

- **4 новости** - с различными датами создания за последние 50 дней
- **4 мероприятия** - предстоящие события с датами в будущем (следующие 45 дней)
- **4 акции** - активные акции с датами окончания в будущем

### Особенности

- Все записи публикуются автоматически (`isPublished: true`)
- Даты расставлены случайным образом для имитации реального наполнения
- Автоматически генерируются:
  - Уникальные slug'и на основе транслитерации заголовков
  - SEO-метаданные (metaTitle, metaDescription)
  - HTML-контент с заголовками и списками
- Для мероприятий:
  - Включена регистрация (`registrationEnabled: true`)
  - Статус "предстоящее" (`status: false`)
  - Помечены как "наши" (`ours: true`)
- Для акций:
  - Статус "активна" (`status: true`)
  - Даты начала и окончания

### Запуск скрипта

```bash
cd backend
npm run seed:test-posts
```

### Повторный запуск

При повторном запуске скрипт создаст дубликаты записей. Если нужно очистить базу данных перед новым запуском:

```bash
# Удалить все новости
npx prisma studio
# Вручную удалите записи через Prisma Studio

# Или через SQL:
# DELETE FROM "News";
# DELETE FROM "Events";
# DELETE FROM "Promotions";
```

### Структура данных

#### Новости (News)
- `title` - заголовок
- `shortDescription` - краткое описание
- `content` - HTML-контент
- `createdAt` - дата создания (случайная в прошлом)
- `slug` - уникальный URL
- `isPublished` - опубликовано
- `metaTitle` / `metaDescription` - SEO

#### Мероприятия (Events)
- `title` - заголовок
- `shortDescription` - краткое описание
- `content` - HTML-контент
- `startDate` - дата начала (в будущем)
- `slug` - уникальный URL
- `isPublished` - опубликовано
- `status` - false (предстоящее)
- `ours` - true (наше мероприятие)
- `registrationEnabled` - true
- `eventLink` - ссылка на трансляцию
- `metaTitle` / `metaDescription` - SEO

#### Акции (Promotions)
- `title` - заголовок
- `shortDescription` - краткое описание
- `content` - HTML-контент
- `startDate` - дата начала (сейчас)
- `endDate` - дата окончания (в будущем)
- `slug` - уникальный URL
- `isPublished` - опубликовано
- `status` - true (активна)
- `metaTitle` / `metaDescription` - SEO

### Примеры созданных данных

**Новости:**
- Обновление 1С:Бухгалтерия 8.3 - новые возможности
- Новые требования к электронной отчетности с 2025 года
- Расширен штат специалистов технической поддержки
- Итоги работы за 2024 год - новые рекорды

**Мероприятия:**
- Вебинар: Автоматизация торговли в 1С:УТ 11.5
- Конференция 1С:Отчетность для бухгалтеров
- Мастер-класс: Разработка обработок для 1С
- День открытых дверей учебного центра

**Акции:**
- Скидка 25% на внедрение 1С:Бухгалтерия
- Бесплатная диагностика информационной безопасности
- Два месяца сопровождения в подарок
- Курсы 1С со скидкой 30% для студентов

### Использование для тестирования

Скрипт идеально подходит для:
- Тестирования главной страницы с объединенным блоком постов
- Проверки хронологической сортировки
- Тестирования цветовой схемы (белый/зеленый/синий)
- Проверки отображения списков на страницах /news, /promotions, /events
- Тестирования детальных страниц постов
